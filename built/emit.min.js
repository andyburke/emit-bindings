(function(){function require(path,parent,orig){var resolved=require.resolve(path);if(null==resolved){orig=orig||path;parent=parent||"root";var err=new Error('Failed to require "'+orig+'" from "'+parent+'"');err.path=orig;err.parent=parent;err.require=true;throw err}var module=require.modules[resolved];if(!module._resolving&&!module.exports){var mod={};mod.exports={};mod.client=mod.component=true;module._resolving=true;module.call(this,mod.exports,require.relative(resolved),mod);delete module._resolving;module.exports=mod.exports}return module.exports}require.modules={};require.aliases={};require.resolve=function(path){if(path.charAt(0)==="/")path=path.slice(1);var paths=[path,path+".js",path+".json",path+"/index.js",path+"/index.json"];for(var i=0;i<paths.length;i++){var path=paths[i];if(require.modules.hasOwnProperty(path))return path;if(require.aliases.hasOwnProperty(path))return require.aliases[path]}};require.normalize=function(curr,path){var segs=[];if("."!=path.charAt(0))return path;curr=curr.split("/");path=path.split("/");for(var i=0;i<path.length;++i){if(".."==path[i]){curr.pop()}else if("."!=path[i]&&""!=path[i]){segs.push(path[i])}}return curr.concat(segs).join("/")};require.register=function(path,definition){require.modules[path]=definition};require.alias=function(from,to){if(!require.modules.hasOwnProperty(from)){throw new Error('Failed to alias "'+from+'", it does not exist')}require.aliases[to]=from};require.relative=function(parent){var p=require.normalize(parent,"..");function lastIndexOf(arr,obj){var i=arr.length;while(i--){if(arr[i]===obj)return i}return-1}function localRequire(path){var resolved=localRequire.resolve(path);return require(resolved,parent,path)}localRequire.resolve=function(path){var c=path.charAt(0);if("/"==c)return path.slice(1);if("."==c)return require.normalize(p,path);var segs=parent.split("/");var i=lastIndexOf(segs,"deps")+1;if(!i)i=0;path=segs.slice(0,i+1).join("/")+"/deps/"+path;return path};localRequire.exists=function(path){return require.modules.hasOwnProperty(localRequire.resolve(path))};return localRequire};require.register("component-event/index.js",function(exports,require,module){var bind=window.addEventListener?"addEventListener":"attachEvent",unbind=window.removeEventListener?"removeEventListener":"detachEvent",prefix=bind!=="addEventListener"?"on":"";exports.bind=function(el,type,fn,capture){el[bind](prefix+type,fn,capture||false);return fn};exports.unbind=function(el,type,fn,capture){el[unbind](prefix+type,fn,capture||false);return fn}});require.register("component-query/index.js",function(exports,require,module){function one(selector,el){return el.querySelector(selector)}exports=module.exports=function(selector,el){el=el||document;return one(selector,el)};exports.all=function(selector,el){el=el||document;return el.querySelectorAll(selector)};exports.engine=function(obj){if(!obj.one)throw new Error(".one callback required");if(!obj.all)throw new Error(".all callback required");one=obj.one;exports.all=obj.all;return exports}});require.register("component-matches-selector/index.js",function(exports,require,module){var query=require("query");var proto=Element.prototype;var vendor=proto.matches||proto.webkitMatchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector;module.exports=match;function match(el,selector){if(vendor)return vendor.call(el,selector);var nodes=query.all(selector,el.parentNode);for(var i=0;i<nodes.length;++i){if(nodes[i]==el)return true}return false}});require.register("discore-closest/index.js",function(exports,require,module){var matches=require("matches-selector");module.exports=function(element,selector,checkYoSelf,root){element=checkYoSelf?{parentNode:element}:element;root=root||document;while((element=element.parentNode)&&element!==document){if(matches(element,selector))return element;if(element===root)return}}});require.register("component-emitter/index.js",function(exports,require,module){module.exports=Emitter;function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks[event]=this._callbacks[event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){var self=this;this._callbacks=this._callbacks||{};function on(){self.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks[event];return this}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks[event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}});require.register("emit/index.js",function(exports,require,module){var Emitter=require("emitter");var bind=require("event").bind;var closest=require("closest");module.exports=Emit.singleton||(Emit.singleton=new Emit);function Emit(options){var self=this;Emitter(self);self.touchMoveDelta=10;self.initialTouchPoint=null;bind(document,"touchstart",self);bind(document,"touchmove",self);bind(document,"touchend",self);bind(document,"click",self);bind(document,"input",self);bind(document,"submit",self)}var t=function(){return true};var f=function(){return false};function GetTouchDelta(event,initial){var deltaX=event.touches[0].pageX-initial.x;var deltaY=event.touches[0].pageY-initial.y;return Math.sqrt(deltaX*deltaX+deltaY*deltaY)}Emit.prototype.handleEvent=function(event){var self=this;if(typeof event.isPropagationStopped=="undefined"){event.isPropagationStopped=f}switch(event.type){case"touchstart":var touches=event.touches;self.initialTouchPoint=self.lastTouchPoint={x:touches&&touches.length?touches[0].pageX:0,y:touches&&touches.length?touches[0].pageY:0};break;case"touchmove":var touches=event.touches;if(touches&&touches.length&&self.initialTouchPoint){var delta=GetTouchDelta(event,self.initialTouchPoint);if(delta>self.touchMoveDelta){self.initialTouchPoint=null}self.lastTouchPoint={x:touches[0].pageX,y:touches[0].pageY}}break;case"click":case"touchend":case"input":case"submit":if(event.type=="click"&&self.lastTouchPoint){if(event.touches&&event.touches.length){var delta=GetTouchDelta(event,self.lastTouchPoint);if(delta<self.touchMoveDelta){event.preventDefault();event.stopPropagation();return}}}var selector="[data-emit]";var el=closest(event.target||event.srcElement,selector,true,document);if(el){var depth=0;while(el&&!event.isPropagationStopped()&&++depth<100){if(el.tagName=="FORM"){if(event.type!="submit"){el=closest(el,selector,false,document);continue}}else if(el.tagName=="INPUT"&&!(el.type=="submit"||el.type=="checkbox"||el.type=="radio")){if(event.type!="input"){el=closest(el,selector,false,document);continue}}else if(el.tagName=="SELECT"){if(event.type!="input"){el=closest(el,selector,false,document);continue}}event.currentTarget=el;self.Emit(el,event);el=closest(el,selector,false,document)}if(depth>=100){console.error("Exceeded depth limit for Emit calls.")}}else{self.emit("unhandled",event)}self.initialTouchPoint=null;break}};Emit.prototype.Emit=function(element,event,type){var self=this;var optionString=element.getAttribute("data-emit-options");var options={};var ignoreString=element.getAttribute("data-emit-ignore");if(ignoreString&&ignoreString.length){var ignoredEvents=ignoreString.toLowerCase().split(" ");for(var i=0;i<ignoredEvents.length;++i){if(event.type==ignoredEvents[i]){return}}}if(optionString&&optionString.length){var opts=optionString.toLowerCase().split(" ");for(var i=0;i<opts.length;++i){options[opts[i]]=true}}if(!options.allowdefault){event.preventDefault()}if(!options.allowpropagate){event.stopPropagation();event.stopImmediatePropagation();if(typeof event.isPropagationStopped=="undefined"){event.isPropagationStopped=t}}var emission=element.getAttribute("data-emit");if(!emission){return}self.emit(emission,event)}});require.alias("component-event/index.js","emit/deps/event/index.js");require.alias("component-event/index.js","event/index.js");require.alias("discore-closest/index.js","emit/deps/closest/index.js");require.alias("discore-closest/index.js","emit/deps/closest/index.js");require.alias("discore-closest/index.js","closest/index.js");require.alias("component-matches-selector/index.js","discore-closest/deps/matches-selector/index.js");require.alias("component-query/index.js","component-matches-selector/deps/query/index.js");require.alias("discore-closest/index.js","discore-closest/index.js");require.alias("component-emitter/index.js","emit/deps/emitter/index.js");require.alias("component-emitter/index.js","emitter/index.js");if(typeof exports=="object"){module.exports=require("emit")}else if(typeof define=="function"&&define.amd){define([],function(){return require("emit")})}else{this["Emit"]=require("emit")}})();